const chai = require('chai');
const expect = chai.expect;
const assert = chai.assert;

/**
 *    @--
 *    //-
 *    -v-
 *
 * Output: 3
 */
const smallField1 =
`@--
//-
---`;

/**
 *    \@\
 *    ---
 *    \-<
 *
 * Output: 8
 */
const smallField2 = 
`\\@\\
---
\\-/`;

/**
 *    /@\
 *    ---
 *    \O/
 *
 * Output: -1
 */
const inf1 = 
`/@\\
---
\\O/`;

/**
 *    @-\
 *    /-v
 *    ^-/
 *
 * Output: -1
 */
const inf2 = 
`@-\\
/-v
^-/`;

const bigField = 
`>--^--<--v------><^<-^-^-->v<-v----->---
-v---v------<---v--------v-----^---->-^-
-<-----vv---------<--------------^v>----
----------------<-----v--v-------v-^----
-<--------v---^-^----------^>---<--->v--
->----v-->----------<--->--^------------
--v^-<>---------------->------v-v->-->^-
-^---------------v-v--->------v-v-----^-
-^-<--------<-v<-----v>--^^---->->----<-
-----vv>----^^---^-----<----<>------>---
------------^--------^-^-----<^-------v-
----------------^-------------v-----^---
----------<---------<v^^----->----------
v---------v-->-->-->-----^---^----->-v--
---------->>-^-----------<-----------v<<
---------------v<<------^-------------^-
----^--^----v---<---<---v-->------------
--^>>-------->v------<v-^-----v-v----^^-
--v----^v-^<-------------v-------^-->---
----------^v-v-->---^<---<-----v-----<^-
-------->--->----------->v---------^----
<----v------v^--------^--^------^<-^----
v---v<v--<---->--------------v-----<<--<
v-----------<-<v-->---v--->--------^^---
--<-->>-v-^----------------------------<
-<v-----^-----^--------v-----v-----<v---
--^-<-----------v---------v>------v---<<
---->--^->-^-----^----------v------<----
--<-^--v----------><v------->-----><<<>-
--<--<----->---->vv----<---v--<--->---^-
----------<>---------->-----^>^---------
v---->--^--------<<-<-----<--^v-<>-----v
-----<---<-<--------------<-^v--<-^-----
----------------><------->->-----^------
-v-------->------v-^-------^---^----->--
---->---------^-----<-------<-^---------
->-^---@--<--^-->---v---------<--->-^---
-----^--^--v---^---v---------------v----
--->------^------v---^----<-v---^-<-----
----^---------<---v-<----><------>--<>--
>-------^---^->-^------------^<^v------<
-->-------<--v-^-^>->>-<^--------->-----
-------------v-<-----------<->---------^
---------------------^-----^--->--v-----
<--<^--------^----------------<----v-->-
>>----->---^----------->---^>-----------
----v-^-<-------->-^v------------><<----
>>v----^v----->----v----<-----------v---
------------->--^--->^^--v->--------^-v-
--<-------^-------v---^^^-<>^--<--<-----`;

describe('Reflecting Lasers', function() {
  const lasers = require('./reflecting_lasers.js');
  it('Should return the correct number of spaces traversed', function() {
    expect(lasers(smallField1)).to.equal(3);
    expect(lasers(smallField2)).to.equal(8);
    expect(lasers(bigField)).to.equal(117);
  });

  it('Should return -1 for infinite loops', function() {
    expect(lasers(inf1)).to.equal(-1);
    expect(lasers(inf2)).to.equal(-1);
  });

});
